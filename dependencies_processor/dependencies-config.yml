# This file maps high-level features to specific Python packages for a microservice stub.
# It is used by a processor script to generate a 'requirements.txt' file.

dependencies-mappings:
  # Core web server and framework
  api: 
    - flask
    - gunicorn

  # Type-safe settings management and .env file support
  config:
    - python-dotenv
    - pydantic
    - pydantic-settings

  # Testing framework
  testing:
    - pytest
  
  # Utility for handling YAML files (e.g., for the processor itself)
  tools:
    - pyyaml

  # OpenTelemetry observability stack for Azure
  opentelemetry-azure:
    - opentelemetry-api
    - opentelemetry-sdk
    - opentelemetry-instrumentation-fastapi
    - azure-monitor-opentelemetry

dependencies-definition:
  # --- API Dependencies ---
  flask:
    package: Flask
    version: "3.1.1"
  gunicorn:
    package: gunicorn
    version: "23.0.0"

  # --- Configuration Dependencies ---
  python-dotenv:
    package: python-dotenv
    version: "1.1.1"
  pydantic:
    package: pydantic
    version: "2.11.7"
  pydantic-settings:
    package: pydantic-settings
    version: "2.10.1"
    
  # --- Testing Dependencies ---
  pytest:
    package: pytest
    version: "8.4.1"

  # --- Tooling Dependencies ---
  pyyaml:
    package: PyYAML # Note: The package name on PyPI is PyYAML
    version: "6.0.2"

  # --- Observability Dependencies ---
  opentelemetry-api:
    package: opentelemetry-api
    version: "1.31.1"
  opentelemetry-sdk:
    package: opentelemetry-sdk
    version: "1.31.1"
  opentelemetry-instrumentation-fastapi:
    package: opentelemetry-instrumentation-fastapi
    version: "0.52b1"
  azure-monitor-opentelemetry:
    package: azure-monitor-opentelemetry
    version: "1.6.6"
